<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>In√≠cio - Gerenciador de Tarefas</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      body {
  min-height: 100vh;
  margin: 0;
  padding: 0;
  background-image: linear-gradient(to bottom, #c9e4ca, #f7f7f7);
  background-attachment: fixed;
}

#grafico-container {
  width: 100%;
}

.link-nav {
  color: #007bff;
  text-decoration: none;
}

#graficoTarefas {
  max-width: 100%;
  height: 250px;
  border: 1px solid #ccc;
  background-color: #f8f9fa;
  border-radius: 8px;
}

#ul-nav {
  display: flex;
  align-items: center;
  padding-right: 20px;
}

#ul-nav li {
  padding-left: 30px;
}

.container {
  margin-bottom: 100px;
}

#ultimas-tarefas {
  list-style: none;
  padding: 0;
}

#ultimas-tarefas li {
  background: #fff;
  margin-bottom: 8px;
  padding: 10px 15px;
  border-radius: 8px;
  border: 1px solid #ddd;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.card:hover {
  background-color: rgb(218, 197, 238);
  transform: scale(1.02);
  transition: transform 0.2s;
}

.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.6);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 1000;
}

.modal-content {
  background: #fff;
  border-radius: 8px;
  padding: 20px;
  width: 400px;
  max-width: 95%;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

/* === MEDIA QUERIES PARA DRAWER === */
/* Navbar drawer */
@media (max-width: 991.98px) {
  .navbar-toggler {
    border-color:  #007bff !important;
  }

  .navbar-toggler-icon {
    background-image: url("data:image/svg+xml;charset=utf8,%3Csvg viewBox='0 0 30 30' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='rgb(0,123,255)' stroke-width='2' stroke-linecap='round' stroke-miterlimit='10' d='M4 7h22M4 15h22M4 23h22'/%3E%3C/svg%3E");
  }

  /* Esconder avatar no drawer */
  #user-avatar {
    display: none !important;
  }

  /* Drawer background */
  #navbarNav {
    /* background-color: #007bff; */
    padding: 10px;
  }

  /* Links e bot√£o alinhados √† direita */
  #ul-nav {
    flex-direction: column;
    align-items: flex-end;
    padding: 10px;
  }

  #ul-nav .nav-item,
  #ul-nav .dropdown {
    width: 100%;
    text-align: right;
    margin-bottom: 0.5rem;
  }

  #ul-nav .nav-link {
    color: #fff;
    font-weight: 500;
  }

  #ul-nav .nav-link:hover {
    color: #e0e0e0;
  }

  #ul-nav .btn-danger {
    width: auto;
    color: #fff;
    border-color: #fff;
  }
}


@media (max-width: 768px) {
  #graficoTarefas {
    height: 200px;
  }
}

    </style>
  </head>
  <body class="">
    <!-- NAVBAR -->
    <!-- NAVBAR -->
<nav class="navbar navbar-expand-lg navbar-dark">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">
      <img src="./assets/logo/logo_taskly_azul.svg" alt="Logo" />
    </a>
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarNav"
      aria-controls="navbarNav"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto align-items-center" id="ul-nav">
        <!-- Link principal -->
        <li class="nav-item me-2">
          <a class="link-nav nav-link" href="listas.html">Listas de Tarefas</a>
        </li>

        <!-- Dropdown do perfil (vis√≠vel apenas em desktop) -->
        <li class="nav-item dropdown d-none d-lg-block">
          <button
            class="btn p-0 border-0 bg-transparent"
            id="perfilDropdown"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            <img
              id="user-avatar"
              src="https://cdn.pixabay.com/photo/2022/08/22/11/04/skate-7403432_960_720.jpg"
              alt="Foto do usu√°rio"
              class="rounded-circle"
              style="width: 50px; height: 50px; object-fit: cover"
            />
          </button>
          <div
            class="dropdown-menu dropdown-menu-end p-3 shadow"
            aria-labelledby="perfilDropdown"
            style="width: 250px"
          >
            <div class="text-center">
              <img
                id="profile-foto"
                src=""
                class="rounded-circle mb-3"
                style="width: 80px; height: 80px; object-fit: cover"
              />
              <h5 id="profile-nome" class="mb-1">Usu√°rio</h5>
              <p id="profile-email" class="text-muted mb-3">Email</p>
            </div>
            <hr />
            <button id="btnLogout" class="btn btn-danger w-100">Sair</button>
          </div>
        </li>

        <!-- Logout mobile (vis√≠vel apenas em telas pequenas) -->
        <li class="nav-item d-lg-none mt-2">
          <button id="btnLogoutMobile" class="btn btn-danger w-100">Sair</button>
        </li>
      </ul>
    </div>
  </div>
</nav>


    <!-- CONTE√öDO -->
    <div class="container mt-5">
      <div
        class="row g-4"
        style="display: flex; justify-content: space-between"
      >
        <!-- Boas-vindas + Gr√°fico -->
        <h2 class="mb-3">Bem-vindo!</h2>

        <div class="col-12">
          <h3 class="mt-0">üìä Estat√≠sticas de Tarefas</h3>
          <div id="grafico-container" class="p-2">
            <!-- os cards ser√£o criados aqui via JS -->
          </div>
        </div>

        <!-- Divis√≥ria -->
        <div class="col-12">
          <hr class="my-4" />
        </div>

        <!-- Lista de Tarefas -->
        <div class="col-12">
          <h3>üìù √öltimas Tarefas Criadas</h3>
          <div id="ultimas-tarefas">
            <!-- cards vir√£o por JS -->
          </div>
          <!-- <ul id="ultimas-tarefas" class="list-group"> -->
          <!-- tarefas vir√£o por JS -->
          <!-- </ul> -->
        </div>
      </div>
    </div>

    <!-- Modal de edi√ß√£o de tarefa -->
    <!-- <div
      class="modal fade"
      id="modalEdicao"
      tabindex="-1"
      aria-labelledby="modalEdicaoLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="modalEdicaoLabel">Editar Tarefa</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Fechar"
            ></button>
          </div>
          <div class="modal-body">
            <div class="mb-3">
              <label for="statusTarefa" class="form-label">Status</label>
              <select class="form-select" id="statusTarefa">
                <option value="iniciada">Iniciada</option>
                <option value="cancelada">Cancelada</option>
                <option value="conclu√≠da">Conclu√≠da</option>
              </select>
            </div>
            <div class="mb-3">
              <label for="prioridadeTarefa" class="form-label"
                >Prioridade</label
              >
              <select class="form-select" id="prioridadeTarefa">
                <option value="baixa">Baixa</option>
                <option value="m√©dia">M√©dia</option>
                <option value="alta">Alta</option>
                <option value="urgente">Urgente</option>
              </select>
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Cancelar
            </button>
            <button type="button" class="btn btn-primary" id="salvarEdicao">
              Salvar
            </button>
          </div>
        </div>
      </div>
    </div> -->
    <!-- Modal custom -->
    <!-- Modal custom -->
    <div
      id="modal-edicao"
      style="
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(232, 155, 235, 0.5);
        justify-content: center;
        align-items: center;
        z-index: 1000;
      "
    >
      <div
        style="
          background: rgb(203, 163, 240);
          padding: 20px;
          border-radius: 8px;
          max-width: 400px;
          width: 90%;
          position: relative;
        "
      >
        <button
          id="modal-close"
          style="position: absolute; top: 10px; right: 10px"
        >
          ‚úñ
        </button>
        <h5>Editar Tarefa</h5>
        <div class="mb-2">
          <label>Descri√ß√£o:</label>
          <input type="text" id="modal-descricao" class="form-control" />
        </div>
        <div class="mb-2">
          <label>Status:</label>
          <select id="modal-status" class="form-select">
            <option value="iniciada">Iniciada</option>
            <option value="cancelada">Cancelada</option>
            <option value="conclu√≠da">Conclu√≠da</option>
          </select>
        </div>
        <div class="mb-2">
          <label>Prioridade:</label>
          <select id="modal-prioridade" class="form-select">
            <option value="baixa">Baixa</option>
            <option value="m√©dia">M√©dia</option>
            <option value="alta">Alta</option>
            <option value="urgente">Urgente</option>
          </select>
        </div>
        <button id="modal-save" class="btn btn-primary w-100">Salvar</button>
      </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="./js/home.js"></script>
    <script src="./js/global.js"></script>
  </body>
</html>
